{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ikram/Desktop/clinical/src/pages/register.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const onSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    const fd = new FormData(e.currentTarget);\r\n    const payload = {\r\n      name: fd.get(\"name\") as string,\r\n      email: fd.get(\"email\") as string,\r\n      password: fd.get(\"password\") as string,\r\n      role: (fd.get(\"role\") as string) || \"PATIENT\",\r\n    };\r\n\r\n    try {\r\n      const res = await fetch(\"http://localhost:3000/api/auth/register\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      const result = await res.json();\r\n\r\n      if (res.ok) {\r\n        toast.success(\"Compte créé avec succès !\");\r\n        setTimeout(() => router.push(\"/login\"), 1500);\r\n      } else {\r\n        toast.error(result.error ?? \"Erreur lors de l'inscription\");\r\n      }\r\n    } catch {\r\n      toast.error(\"Erreur de connexion au serveur\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* Left image */}\r\n      <div className=\"leftSection\">\r\n        <img src=\"/doctors.png\" alt=\"Doctors\" className=\"doctorsImage\" />\r\n      </div>\r\n\r\n      {/* Right form */}\r\n      <div className=\"rightSection\">\r\n        <form onSubmit={onSubmit} className=\"loginBox\">\r\n          <h2>Créer un compte DiagnoTech</h2>\r\n\r\n          <div className=\"inputGroup\">\r\n            <label>Nom & Prénom</label>\r\n            <input type=\"text\" name=\"name\" placeholder=\"Votre nom\" required />\r\n          </div>\r\n\r\n          <div className=\"inputGroup\">\r\n            <label>Email</label>\r\n            <input type=\"email\" name=\"email\" placeholder=\"Email\" required />\r\n          </div>\r\n\r\n          <div className=\"inputGroup\">\r\n            <label>Mot de passe</label>\r\n            <input type=\"password\" name=\"password\" placeholder=\"Mot de passe\" required minLength={6} />\r\n          </div>\r\n\r\n          <div className=\"inputGroup\">\r\n            <label>Rôle</label>\r\n            <select name=\"role\" defaultValue=\"PATIENT\">\r\n              <option value=\"DOCTOR\">DOCTOR</option>\r\n              <option value=\"RECEPTIONIST\">RECEPTIONIST</option>\r\n              <option value=\"PATIENT\">PATIENT</option>\r\n            </select>\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"loginBtn\" disabled={isLoading}>\r\n            {isLoading ? \"Création...\" : \"S'inscrire\"}\r\n          </button>\r\n\r\n          <p className=\"registerText\">\r\n            Déjà un compte ? <a href=\"/login\">Se connecter</a>\r\n          </p>\r\n        </form>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .container {\r\n          display: flex;\r\n          width: 100%;\r\n          height: 100vh;\r\n        }\r\n\r\n        .leftSection {\r\n          width: 50%;\r\n          background-color: #4bb2fc;\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n        }\r\n\r\n        .doctorsImage {\r\n          width: 70%;\r\n          max-height: 60%;\r\n        }\r\n\r\n        .rightSection {\r\n          width: 50%;\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          background-color: #f7fcff;\r\n        }\r\n\r\n        .loginBox {\r\n          background: #ffffff;\r\n          padding: 60px;\r\n          border-radius: 30px;\r\n          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n          width: 70%;\r\n          max-width: 500px;\r\n          text-align: center;\r\n        }\r\n\r\n        h2 {\r\n          color: #086df2;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .inputGroup {\r\n          text-align: left;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .inputGroup label {\r\n          font-size: 18px;\r\n          font-weight: bold;\r\n          color: #4bb2fc;\r\n          display: block;\r\n          margin-bottom: 5px;\r\n        }\r\n\r\n        .inputGroup input,\r\n        .inputGroup select {\r\n          width: 100%;\r\n          padding: 10px;\r\n          border: none;\r\n          border-bottom: 1px solid #ccc;\r\n          font-size: 16px;\r\n          outline: none;\r\n        }\r\n\r\n        .loginBtn {\r\n          width: 50%;\r\n          padding: 12px;\r\n          background-color: #4bb2fc;\r\n          color: white;\r\n          border: none;\r\n          border-radius: 20px;\r\n          font-size: 18px;\r\n          cursor: pointer;\r\n          transition: 0.3s;\r\n        }\r\n\r\n        .loginBtn:hover {\r\n          background-color: #054bb5;\r\n        }\r\n\r\n        .loginBtn:disabled {\r\n          background-color: #7aa7e0;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .registerText {\r\n          font-size: 16px;\r\n          margin-top: 15px;\r\n        }\r\n\r\n        .registerText a {\r\n          color: #292b84;\r\n          text-decoration: none;\r\n        }\r\n\r\n        .registerText a:hover {\r\n          text-decoration: underline;\r\n        }\r\n\r\n        @media (max-width: 992px) {\r\n          .container {\r\n            flex-direction: column;\r\n            height: auto;\r\n          }\r\n\r\n          .leftSection,\r\n          .rightSection {\r\n            width: 100%;\r\n            padding: 40px;\r\n          }\r\n\r\n          .loginBox {\r\n            width: 80%;\r\n          }\r\n\r\n          .doctorsImage {\r\n            width: 60%;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .loginBox {\r\n            width: 90%;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n          h2 {\r\n            font-size: 24px;\r\n          }\r\n\r\n          .doctorsImage {\r\n            width: 80%;\r\n          }\r\n\r\n          .loginBox {\r\n            width: 95%;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;;;;;AAJA;;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,wIAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAE3C,MAAM,WAAW,OAAO;QACtB,EAAE,cAAc;QAChB,aAAa;QAEb,MAAM,KAAK,IAAI,SAAS,EAAE,aAAa;QACvC,MAAM,UAAU;YACd,MAAM,GAAG,GAAG,CAAC;YACb,OAAO,GAAG,GAAG,CAAC;YACd,UAAU,GAAG,GAAG,CAAC;YACjB,MAAM,AAAC,GAAG,GAAG,CAAC,WAAsB;QACtC;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,2CAA2C;gBACjE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,SAAS,MAAM,IAAI,IAAI;YAE7B,IAAI,IAAI,EAAE,EAAE;gBACV,qHAAK,CAAC,OAAO,CAAC;gBACd,WAAW,IAAM,OAAO,IAAI,CAAC,WAAW;YAC1C,OAAO;gBACL,qHAAK,CAAC,KAAK,CAAC,OAAO,KAAK,IAAI;YAC9B;QACF,EAAE,OAAM;YACN,qHAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,qKAAC;kDAAc;;0BAEb,qKAAC;0DAAc;0BACb,cAAA,qKAAC;oBAAI,KAAI;oBAAe,KAAI;8DAAoB;;;;;;;;;;;0BAIlD,qKAAC;0DAAc;0BACb,cAAA,qKAAC;oBAAK,UAAU;8DAAoB;;sCAClC,qKAAC;;sCAAG;;;;;;sCAEJ,qKAAC;sEAAc;;8CACb,qKAAC;;8CAAM;;;;;;8CACP,qKAAC;oCAAM,MAAK;oCAAO,MAAK;oCAAO,aAAY;oCAAY,QAAQ;;;;;;;;;;;;;sCAGjE,qKAAC;sEAAc;;8CACb,qKAAC;;8CAAM;;;;;;8CACP,qKAAC;oCAAM,MAAK;oCAAQ,MAAK;oCAAQ,aAAY;oCAAQ,QAAQ;;;;;;;;;;;;;sCAG/D,qKAAC;sEAAc;;8CACb,qKAAC;;8CAAM;;;;;;8CACP,qKAAC;oCAAM,MAAK;oCAAW,MAAK;oCAAW,aAAY;oCAAe,QAAQ;oCAAC,WAAW;;;;;;;;;;;;;sCAGxF,qKAAC;sEAAc;;8CACb,qKAAC;;8CAAM;;;;;;8CACP,qKAAC;oCAAO,MAAK;oCAAO,cAAa;;;sDAC/B,qKAAC;4CAAO,OAAM;;sDAAS;;;;;;sDACvB,qKAAC;4CAAO,OAAM;;sDAAe;;;;;;sDAC7B,qKAAC;4CAAO,OAAM;;sDAAU;;;;;;;;;;;;;;;;;;sCAI5B,qKAAC;4BAAO,MAAK;4BAA8B,UAAU;sEAArB;sCAC7B,YAAY,gBAAgB;;;;;;sCAG/B,qKAAC;sEAAY;;gCAAe;8CACT,qKAAC;oCAAE,MAAK;;8CAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJ9C"}}]
}