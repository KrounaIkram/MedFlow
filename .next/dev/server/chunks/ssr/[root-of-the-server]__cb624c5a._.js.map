{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ikram/Desktop/clinical/src/pages/patient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\ntype Appointment = {\r\n  id: string;\r\n  date: string;\r\n  type: string;\r\n  status: string;\r\n  notes?: string | null;\r\n  doctor: { name: string };\r\n};\r\n\r\ntype Doctor = {\r\n  id: string;\r\n  name: string;\r\n};\r\n\r\ntype Invoice = {\r\n  id: string;\r\n  amount: number; // en centimes\r\n  currency: string;\r\n  status: \"PENDING\" | \"PAID\" | \"CANCELED\";\r\n  createdAt: string;\r\n};\r\n\r\ntype Prescription = {\r\n  id: string;\r\n  createdAt: string;\r\n  doctor: { name: string };\r\n  patient: { firstName: string; lastName: string };\r\n  consultation: { id: string; datetime: string } | null;\r\n};\r\n\r\nexport default function PatientPage() {\r\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\r\n  const [doctors, setDoctors] = useState<Doctor[]>([]);\r\n  const [invoices, setInvoices] = useState<Invoice[]>([]);\r\n  const [prescriptions, setPrescriptions] = useState<Prescription[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [selectedDoctor, setSelectedDoctor] = useState(\"\");\r\n  const [selectedDate, setSelectedDate] = useState(\"\");\r\n  const [selectedType, setSelectedType] = useState(\"CONSULTATION\");\r\n  const [notes, setNotes] = useState(\"\");\r\n  const [creating, setCreating] = useState(false);\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const apptRes = await fetch(\"/api/appointments\");\r\n      if (!apptRes.ok) throw new Error(\"Erreur chargement rendez-vous\");\r\n      const apptData = await apptRes.json();\r\n      setAppointments(apptData);\r\n\r\n      const docRes = await fetch(\"/api/users/doctors\");\r\n      if (!docRes.ok) throw new Error(\"Erreur chargement docteurs\");\r\n      const docData = await docRes.json();\r\n      setDoctors(docData);\r\n\r\n      // ✅ Bon endpoint : factures du patient\r\n      const invoiceRes = await fetch(\"/api/patients/me/invoices\");\r\n      if (invoiceRes.ok) {\r\n        setInvoices(await invoiceRes.json());\r\n      }\r\n\r\n      const prescRes = await fetch(\"/api/prescriptions\");\r\n      if (prescRes.ok) {\r\n        setPrescriptions(await prescRes.json());\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error((err as Error).message || \"Erreur lors du chargement des données\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleSubmitAppointment = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setCreating(true);\r\n\r\n    try {\r\n      if (!selectedDate) throw new Error(\"Veuillez sélectionner une date\");\r\n\r\n      const dateObj = new Date(selectedDate);\r\n      const day = dateObj.getDay();\r\n      const hour = dateObj.getHours();\r\n\r\n      if ((day === 0 || day === 6) && hour >= 12) {\r\n        throw new Error(\"Rendez-vous impossible le samedi ou dimanche après 12h\");\r\n      }\r\n\r\n      const isoDate = dateObj.toISOString();\r\n\r\n      if (editingId) {\r\n        const res = await fetch(\"/api/appointments\", {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            appointmentId: editingId,\r\n            date: isoDate,\r\n            type: selectedType,\r\n            notes: notes || undefined,\r\n          }),\r\n        });\r\n\r\n        if (!res.ok) {\r\n          const errorData = await res.json();\r\n          throw new Error(errorData.error?.message || \"Erreur lors de la modification\");\r\n        }\r\n\r\n        toast.success(\"Rendez-vous modifié avec succès !\");\r\n      } else {\r\n        if (!selectedDoctor) throw new Error(\"Veuillez sélectionner un docteur\");\r\n\r\n        const res = await fetch(\"/api/appointments\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            doctorName: selectedDoctor,\r\n            date: isoDate,\r\n            type: selectedType,\r\n            notes: notes || undefined,\r\n          }),\r\n        });\r\n\r\n        if (!res.ok) {\r\n          const errorData = await res.json();\r\n          throw new Error(errorData.error?.message || \"Erreur lors de la création\");\r\n        }\r\n\r\n        toast.success(\"Rendez-vous créé avec succès !\");\r\n      }\r\n\r\n      await fetchData();\r\n\r\n      setSelectedDoctor(\"\");\r\n      setSelectedDate(\"\");\r\n      setSelectedType(\"CONSULTATION\");\r\n      setNotes(\"\");\r\n      setEditingId(null);\r\n    } catch (err: any) {\r\n      console.error(err);\r\n      toast.error(err.message || \"Erreur serveur\");\r\n    } finally {\r\n      setCreating(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (appointment: Appointment) => {\r\n    setEditingId(appointment.id.toString());\r\n    setSelectedDoctor(appointment.doctor.name);\r\n    setSelectedDate(new Date(appointment.date).toISOString().slice(0, 16));\r\n    setSelectedType(appointment.type);\r\n    setNotes(appointment.notes || \"\");\r\n  };\r\n\r\n  // ✅ Paiement : appelle /api/invoices/pay\r\n  const handlePayInvoice = async (invoiceId: string) => {\r\n    try {\r\n      const res = await fetch(\"/api/payments/checkout\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ invoiceId }),\r\n        credentials: \"include\",\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const errorData = await res.json().catch(() => ({}));\r\n        throw new Error(errorData.error || \"Impossible de lancer le paiement\");\r\n      }\r\n\r\n      const { url } = await res.json();\r\n      if (url) {\r\n        window.location.href = url;\r\n      } else {\r\n        throw new Error(\"URL de redirection manquante\");\r\n      }\r\n    } catch (err: any) {\r\n      toast.error(err.message || \"Erreur lors du lancement du paiement\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-4xl mx-auto\">\r\n      <h1 className=\"text-3xl font-bold mb-6 text-center\">Interface Patient</h1>\r\n\r\n      {loading ? (\r\n        <p className=\"text-center\">Chargement...</p>\r\n      ) : (\r\n        <>\r\n          {/* Rendez-vous */}\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold mb-4\">Mes Rendez-vous</h2>\r\n            {appointments.length === 0 ? (\r\n              <p>Aucun rendez-vous trouvé.</p>\r\n            ) : (\r\n              <ul className=\"space-y-3\">\r\n                {appointments.map((a) => (\r\n                  <li key={a.id} className=\"p-4 border rounded-lg shadow-sm flex justify-between items-start\">\r\n                    <div>\r\n                      <p><strong>Date :</strong> {new Date(a.date).toLocaleString()}</p>\r\n                      <p><strong>Type :</strong> {a.type}</p>\r\n                      <p><strong>Docteur :</strong> {a.doctor.name}</p>\r\n                      <p><strong>Status :</strong> {a.status}</p>\r\n                      {a.notes && <p><strong>Notes :</strong> {a.notes}</p>}\r\n                    </div>\r\n                    <button\r\n                      onClick={() => handleEdit(a)}\r\n                      className=\"bg-yellow-500 hover:bg-yellow-700 text-white py-1 px-3 rounded mt-2\"\r\n                    >\r\n                      Modifier\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </section>\r\n\r\n          {/* Factures */}\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold mb-4\">Mes Factures</h2>\r\n            {invoices.length === 0 ? (\r\n              <p>Aucune facture trouvée.</p>\r\n            ) : (\r\n              <ul className=\"space-y-3\">\r\n                {invoices.map((invoice) => (\r\n                  <li key={invoice.id} className=\"p-4 border rounded-lg flex justify-between items-center\">\r\n                    <div>\r\n                      <p><strong>Facture #{invoice.id}</strong></p>\r\n                      <p>Montant : {(invoice.amount / 100).toFixed(2)} {invoice.currency.toUpperCase()}</p>\r\n                      <p>Status : \r\n                        {invoice.status === \"PAID\" ? \"✅ Payée\" : \r\n                         invoice.status === \"CANCELED\" ? \"❌ Annulée\" : \"⏳ En attente\"}\r\n                      </p>\r\n                    </div>\r\n                    {invoice.status === \"PENDING\" && (\r\n                      <button\r\n                        onClick={() => handlePayInvoice(invoice.id)}\r\n                        className=\"bg-green-600 hover:bg-green-700 text-white py-1 px-4 rounded\"\r\n                      >\r\n                        Payer\r\n                      </button>\r\n                    )}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </section>\r\n\r\n          {/* Ordonnances */}\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold mb-4\">Mes Ordonnances</h2>\r\n            {prescriptions.length === 0 ? (\r\n              <p>Aucune ordonnance disponible.</p>\r\n            ) : (\r\n              <ul className=\"space-y-3\">\r\n                {prescriptions.map((presc) => (\r\n                  <li key={presc.id} className=\"p-4 border rounded-lg flex justify-between items-center\">\r\n                    <div>\r\n                      <p><strong>Ordonnance #{presc.id}</strong></p>\r\n                      <p>Médecin : {presc.doctor.name}</p>\r\n                      <p>\r\n                        Date : {presc.consultation\r\n                          ? new Date(presc.consultation.datetime).toLocaleDateString()\r\n                          : new Date(presc.createdAt).toLocaleDateString()}\r\n                      </p>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => window.open(`/api/prescriptions/${presc.id}/pdf`, \"_blank\")}\r\n                      className=\"bg-blue-600 hover:bg-blue-700 text-white py-1 px-4 rounded\"\r\n                    >\r\n                      PDF\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </section>\r\n\r\n          {/* Formulaire de RDV */}\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold mb-4\">\r\n              {editingId ? \"Modifier le Rendez-vous\" : \"Créer un Rendez-vous\"}\r\n            </h2>\r\n            <form onSubmit={handleSubmitAppointment} className=\"space-y-4 p-4 border rounded-lg shadow-sm\">\r\n              <div>\r\n                <label className=\"block font-medium mb-1\">Docteur</label>\r\n                <select\r\n                  value={selectedDoctor}\r\n                  onChange={(e) => setSelectedDoctor(e.target.value)}\r\n                  required\r\n                  className=\"w-full p-2 border rounded\"\r\n                  disabled={!!editingId}\r\n                >\r\n                  <option value=\"\">Sélectionner un docteur</option>\r\n                  {doctors.map((d) => (\r\n                    <option key={d.id} value={d.name}>{d.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block font-medium mb-1\">Date & Heure</label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  value={selectedDate}\r\n                  onChange={(e) => setSelectedDate(e.target.value)}\r\n                  required\r\n                  className=\"w-full p-2 border rounded\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block font-medium mb-1\">Type de RDV</label>\r\n                <select\r\n                  value={selectedType}\r\n                  onChange={(e) => setSelectedType(e.target.value)}\r\n                  className=\"w-full p-2 border rounded\"\r\n                >\r\n                  <option value=\"CONSULTATION\">Consultation</option>\r\n                  <option value=\"URGENCY\">Urgence</option>\r\n                  <option value=\"FOLLOW_UP\">Suivi</option>\r\n                  <option value=\"CONTROL\">Contrôle</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block font-medium mb-1\">Notes (facultatif)</label>\r\n                <textarea\r\n                  value={notes}\r\n                  onChange={(e) => setNotes(e.target.value)}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  placeholder=\"Ajoutez des notes si nécessaire\"\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={creating}\r\n                className=\"w-full bg-blue-600 hover:bg-blue-800 text-white py-2 rounded-full\"\r\n              >\r\n                {creating ? \"En cours...\" : editingId ? \"Modifier Rendez-vous\" : \"Créer Rendez-vous\"}\r\n              </button>\r\n            </form>\r\n          </section>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}